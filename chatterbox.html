<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>chatterbox</title>
    <link rel="stylesheet" href="client/styles/styles.css">
    <script src="node_modules/jquery/dist/jquery.js"></script>
    <script src="node_modules/underscore/underscore.js"></script>
     <!-- google fonts -->
     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Montserrat&family=Roboto&family=Ubuntu+Mono:ital@0;1&display=swap" rel="stylesheet">
     <script src="https://kit.fontawesome.com/d7ce06b25a.js" crossorigin="anonymous"></script>
    <script>
      // DO NOT MODIFY THIS CODE
      if (!/(&|\?)username=/.test(window.location.search)) {
        var search = window.location.search;
        if (!/\?/.test(search)) {
          search += '?';
        }
        if (search[search.length - 1] !== '?') {
          search += '&';
        }
        search += 'username=' + (prompt('What is your name?') || 'anonymous');
        window.location.search = search;
      }
    </script>
  </head>
  <body>
    <div id="main">
      <h1><em>chatterbox</em></h1>
      <div class="spinner"><img src="client/images/spiffygif_46x46.gif"></div>
      <div id="rooms">
        Room:
        <select></select>
        <button>Add Room</button>
      </div>

      <!-- refresh post btn -->
      <button class="refresh-button">Refresh</button>


      <form action="#" id="send" method="post">
        <input type="text" name="message" id="message"/>
        <input type="submit" name="submit" class="submit"/>
      </form>
    </div>
    <!-- tabs of rooms -->
    <div class ="container">


    </div>
    <div class="tab">
      <button class="friendsTwt-btn tablinks" onclick="openRoom(event, 'friendsTweets')">Tweets by friends</button>
      <button class="currentRm-btn tablinks" onclick="openRoom(event, 'showAll')" id="defaultOpen">Current Room</button>

      <button class="lobby-btn tablinks"  onclick="openRoom(event, 'lobby')">lobby</button>
      <button class="tablinks" onclick="openRoom(event, 'likedTwts')">Liked Tweets</button>
    </div>


    <div id="showAll" class="tabcontent">
      <!-- <h3>currentRoom</h3> could implement later with showing the current rmName -->
      <div id="chats"></div>
    </div>

    <div id="friendsTweets" class="tabcontent">
      <!-- <h3>Tweets by friends</h3> -->
      <div id="chatsByFriends"></div>
    </div>

    <div id="likedTwts" class="tabcontent">
      <h3>Liked Tweets</h3>
      <div id="chatsLiked"></div>
    </div>

    <div id="lobby" class="tabcontent">
      <div id="chatsInLobby"></div>
    </div>


    <!-- function to display content in tabs -->
    <script>
      function openRoom(evt, roomname) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(roomname).style.display = "block";
        evt.currentTarget.className += " active";
      }

      // Get the element with id="defaultOpen" and click on it
      document.getElementById("defaultOpen").click();
      </script>




    <script src="client/env/config.js"></script>
    <script src="client/scripts/parse.js"></script>
    <script src="client/scripts/rooms.js"></script>
    <script src="client/scripts/friends.js"></script>
    <script src="client/scripts/messages.js"></script>
    <script src="client/scripts/formView.js"></script>
    <script src="client/scripts/roomsView.js"></script>
    <script src="client/scripts/messageView.js"></script>
    <script src="client/scripts/messagesView.js"></script>
    <script src="client/scripts/app.js"></script>
    <script>
      $(() => App.initialize());
    </script>
  </body>
</html>
